# Sample Data - CapitalCube Reports

This directory contains reference CapitalCube reports used to inform the Smart Portfolio Agent PRD.

## Files

### `Valisha---EarningsQuality-HOOD-US-10-18-2025.pdf`
**Company:** Robinhood Markets Inc (HOOD-US)  
**Report Type:** Earnings Quality Analysis  
**Date:** October 18, 2025  
**Source:** CapitalCube

**Key Data Extracted:**
- **Peer Group:** COIN-US, CRCL-US, ETOR-US, GLXY-US, SCHW-US, SOFI-US (6 peers)
- **Net Margin TTM:** 50.13% (vs. peer median 18.37%)
- **Accruals % Revenue:** 77.80% (vs. peer median 2.64%)
- **Accounting Quality:** Conservative (possible understatement of net income)
- **Potential Issues:** 13 across 11 categories (AR: 1, AP: 1, PP&E: 3, Intangibles: 2, R&D: 2, SG&A: 2, Taxes: 1)
- **Derived Quality Score:** 3.8/5.0

**Usage:**
This report served as the reference for understanding:
1. CapitalCube's actual report structure (PDF-based, not simple API)
2. Key metrics available for programmatic extraction
3. Peer group discovery methodology
4. Scoring algorithm design (how to synthesize a 1-5 score from complex analytics)

## How to Use These Samples

### For Development:
```python
# Test PDF parser with this sample
from backend.tools.capitalcube_parser import parse_capitalcube_report

data = parse_capitalcube_report("sample-data/Valisha---EarningsQuality-HOOD-US-10-18-2025.pdf")
print(data["peers"])  # Should output: ["COIN-US", "CRCL-US", ...]
print(data["total_issues"])  # Should output: 13
```

### For Testing:
```bash
# Run parser tests
pytest tests/test_capitalcube_parser.py::test_hood_sample

# Expected output:
# ✓ Peers extracted correctly (6 companies)
# ✓ Net margin parsed: 50.13%
# ✓ Accruals parsed: 77.80%
# ✓ Total issues counted: 13
# ✓ Derived score: 3.8/5.0
```

## Adding New Samples

When adding new CapitalCube reports:
1. Name format: `[Your-Name]---[ReportType]-[TICKER]-[Country]-[MM-DD-YYYY].pdf`
2. Document key metrics in this README
3. Update parser tests to validate extraction accuracy
4. Check for format changes that might require parser updates

## Notes

- CapitalCube reports update based on quarterly/annual SEC filings (10-Q, 10-K)
- Reports are ~10 pages with consistent structure across tickers
- Peer groups are pre-assigned by CapitalCube (not algorithmically generated by us)
- "Potential Issues" are red flags, not certainties - require human interpretation
- Reports are for **earnings quality** analysis, not stock price prediction

## Links

- [CapitalCube Website](https://www.capitalcube.com)
- [HOOD Live Report](https://www.capitalcube.com/report/HOOD-US)
- PRD Reference: `../SMART_PORTFOLIO_AGENT_PRD.md` (Section 16: Key Insights)

